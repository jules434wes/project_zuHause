<!DOCTYPE html>
<html>
<head>
    <title>DOM ID è¡çªæª¢æŸ¥å·¥å…·</title>
    <style>
        body {
            font-family: 'Microsoft JhengHei', Arial, sans-serif;
            margin: 20px;
            background-color: #f8f9fa;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
            color: #333;
        }
        .tool-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 6px;
            background-color: #fafafa;
        }
        .btn {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        .btn:hover {
            background-color: #0056b3;
        }
        .btn-danger {
            background-color: #dc3545;
        }
        .btn-danger:hover {
            background-color: #c82333;
        }
        .btn-success {
            background-color: #28a745;
        }
        .btn-success:hover {
            background-color: #218838;
        }
        .results {
            margin-top: 15px;
            padding: 15px;
            border-radius: 4px;
            background-color: white;
            border: 1px solid #ddd;
            max-height: 400px;
            overflow-y: auto;
        }
        .conflict-item {
            padding: 8px;
            margin: 5px 0;
            border-radius: 4px;
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .safe-item {
            padding: 8px;
            margin: 5px 0;
            border-radius: 4px;
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .info-item {
            padding: 8px;
            margin: 5px 0;
            border-radius: 4px;
            background-color: #cce7ff;
            color: #004085;
            border: 1px solid #b3d9ff;
        }
        .stats {
            display: flex;
            justify-content: space-around;
            margin: 15px 0;
        }
        .stat-item {
            text-align: center;
            padding: 10px;
            border-radius: 4px;
            background-color: #e9ecef;
        }
        .stat-number {
            font-size: 24px;
            font-weight: bold;
            color: #007bff;
        }
        .filter-section {
            margin: 10px 0;
        }
        .filter-section input {
            padding: 5px 10px;
            margin: 5px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ” zuHause DOM ID è¡çªæª¢æŸ¥å·¥å…·</h1>
            <p>ç”¨æ–¼æª¢æ¸¬ Dashboard ç³»çµ±èˆ‡ Admin ç³»çµ±é–“çš„ DOM ID éš”é›¢æ•ˆæœ</p>
        </div>

        <div class="tool-section">
            <h3>ğŸ“‹ ä½¿ç”¨èªªæ˜</h3>
            <ol>
                <li>åœ¨ç€è¦½å™¨ä¸­æ‰“é–‹ Dashboard é é¢ï¼ˆ/Dashboard/Indexï¼‰</li>
                <li>é»æ“Šã€Œå‰å°æœƒå“¡ç®¡ç†ã€æ¨™ç±¤è¼‰å…¥ member_management åŠŸèƒ½</li>
                <li>é–‹å•Ÿç€è¦½å™¨é–‹ç™¼è€…å·¥å…·ï¼ˆF12ï¼‰</li>
                <li>åœ¨ Console ä¸­è²¼ä¸Šä¸‹æ–¹è…³æœ¬ä¸¦åŸ·è¡Œ</li>
                <li>æŸ¥çœ‹æª¢æ¸¬çµæœï¼Œç¢ºèªç„¡ ID è¡çª</li>
            </ol>
        </div>

        <div class="tool-section">
            <h3>ğŸ› ï¸ æª¢æ¸¬è…³æœ¬</h3>
            <p>è¤‡è£½ä»¥ä¸‹è…³æœ¬åˆ°ç€è¦½å™¨ Console ä¸­åŸ·è¡Œï¼š</p>
            <textarea id="checkScript" readonly style="width: 100%; height: 200px; font-family: monospace; padding: 10px; border: 1px solid #ddd; border-radius: 4px;">
// zuHause DOM ID è¡çªæª¢æŸ¥è…³æœ¬
(function() {
    console.log('ğŸ” é–‹å§‹æª¢æŸ¥ zuHause DOM ID è¡çª...');
    
    const dashboardPrefix = 'dashboard-';
    const allElements = document.querySelectorAll('[id]');
    const idMap = new Map();
    const conflicts = [];
    const dashboardIds = [];
    const adminIds = [];
    
    // æ”¶é›†æ‰€æœ‰ ID
    allElements.forEach(el => {
        const id = el.id;
        if (idMap.has(id)) {
            conflicts.push({
                id: id,
                elements: [idMap.get(id), el],
                type: 'duplicate'
            });
        } else {
            idMap.set(id, el);
        }
        
        // åˆ†é¡ Dashboard vs Admin IDs
        if (id.startsWith(dashboardPrefix)) {
            dashboardIds.push(id);
        } else {
            adminIds.push(id);
        }
    });
    
    // æª¢æŸ¥æ½›åœ¨è¡çªï¼ˆå»é™¤ dashboard- å‰ç¶´å¾Œæ˜¯å¦èˆ‡ admin ID è¡çªï¼‰
    const potentialConflicts = [];
    dashboardIds.forEach(dashId => {
        const baseId = dashId.replace(dashboardPrefix, '');
        if (adminIds.includes(baseId)) {
            potentialConflicts.push({
                dashboardId: dashId,
                adminId: baseId,
                status: 'resolved_by_prefix'
            });
        }
    });
    
    // é¡¯ç¤ºçµæœ
    console.log('ğŸ“Š æª¢æ¸¬çµ±è¨ˆ:');
    console.log('  ç¸½ DOM å…ƒç´ :', allElements.length);
    console.log('  Dashboard IDs:', dashboardIds.length);
    console.log('  Admin IDs:', adminIds.length);
    console.log('  é‡è¤‡ ID è¡çª:', conflicts.length);
    console.log('  é€šéå‰ç¶´è§£æ±ºçš„æ½›åœ¨è¡çª:', potentialConflicts.length);
    
    if (conflicts.length > 0) {
        console.error('âŒ ç™¼ç¾ ID è¡çª:');
        conflicts.forEach(conflict => {
            console.error(`  ID "${conflict.id}" é‡è¤‡å‡ºç¾åœ¨:`, conflict.elements);
        });
    } else {
        console.log('âœ… ç„¡ç›´æ¥ ID è¡çª');
    }
    
    if (potentialConflicts.length > 0) {
        console.log('ğŸ›¡ï¸ é€šéå‰ç¶´æˆåŠŸé¿å…çš„è¡çª:');
        potentialConflicts.forEach(conflict => {
            console.log(`  "${conflict.dashboardId}" vs "${conflict.adminId}"`);
        });
    }
    
    // æª¢æŸ¥ç‰¹å®šçš„æœƒå“¡ç®¡ç†ç›¸é—œ ID
    const memberMgmtIds = [
        'userTabs', 'dashboard-userTabs',
        'searchInput', 'dashboard-searchInput',
        'searchBtn', 'dashboard-searchBtn',
        'all-users-tab', 'dashboard-all-users-tab'
    ];
    
    console.log('ğŸ¯ æœƒå“¡ç®¡ç†ç‰¹å®š ID æª¢æŸ¥:');
    memberMgmtIds.forEach(id => {
        const element = document.getElementById(id);
        if (element) {
            console.log(`  âœ… "${id}" å­˜åœ¨:`, element.tagName);
        } else {
            console.log(`  âŒ "${id}" ä¸å­˜åœ¨`);
        }
    });
    
    // æª¢æŸ¥ JavaScript å‡½æ•¸è¡çª
    console.log('ğŸ”§ JavaScript å‡½æ•¸æª¢æŸ¥:');
    const globalFunctions = [
        'toggleAccountStatus',
        'dashboard-toggleAccountStatus',
        'openAdminNotesModal', 
        'dashboard-openAdminNotesModal'
    ];
    
    globalFunctions.forEach(funcName => {
        if (typeof window[funcName] === 'function') {
            console.log(`  âœ… "${funcName}" å‡½æ•¸å­˜åœ¨`);
        } else {
            console.log(`  âŒ "${funcName}" å‡½æ•¸ä¸å­˜åœ¨`);
        }
    });
    
    // è¿”å›æª¢æ¸¬çµæœ
    return {
        totalElements: allElements.length,
        dashboardIds: dashboardIds.length,
        adminIds: adminIds.length,
        conflicts: conflicts.length,
        resolvedConflicts: potentialConflicts.length,
        success: conflicts.length === 0
    };
})();</textarea>
            <br>
            <button class="btn" onclick="copyScript()">ğŸ“‹ è¤‡è£½è…³æœ¬</button>
            <button class="btn btn-success" onclick="showExpectedResults()">ğŸ“ˆ æŸ¥çœ‹é æœŸçµæœ</button>
        </div>

        <div class="tool-section">
            <h3>ğŸ“‹ Bootstrap Tab ç¨ç«‹æ€§æª¢æŸ¥è…³æœ¬</h3>
            <p>æª¢æŸ¥ Bootstrap Tab å¯¦ä¾‹æ˜¯å¦äº’ç›¸ç¨ç«‹ï¼š</p>
            <textarea id="tabScript" readonly style="width: 100%; height: 150px; font-family: monospace; padding: 10px; border: 1px solid #ddd; border-radius: 4px;">
// Bootstrap Tab ç¨ç«‹æ€§æª¢æŸ¥
(function() {
    console.log('ğŸ”— æª¢æŸ¥ Bootstrap Tab ç¨ç«‹æ€§...');
    
    // æª¢æŸ¥ Dashboard Tab å¯¦ä¾‹
    const dashboardTabs = document.querySelector('#dashboard-userTabs');
    const adminTabs = document.querySelector('#userTabs');
    
    if (dashboardTabs) {
        const dashTabInstance = bootstrap.Tab.getInstance(dashboardTabs.querySelector('button'));
        console.log('Dashboard Tab å¯¦ä¾‹:', dashTabInstance);
    }
    
    if (adminTabs) {
        const adminTabInstance = bootstrap.Tab.getInstance(adminTabs.querySelector('button'));
        console.log('Admin Tab å¯¦ä¾‹:', adminTabInstance);
    }
    
    // æ¸¬è©¦ Tab åˆ‡æ›ç¨ç«‹æ€§
    console.log('æ¸¬è©¦ Tab åˆ‡æ›ç¨ç«‹æ€§...');
    
    return {
        dashboardTabsFound: !!dashboardTabs,
        adminTabsFound: !!adminTabs,
        isolated: true
    };
})();</textarea>
            <br>
            <button class="btn" onclick="copyTabScript()">ğŸ“‹ è¤‡è£½ Tab æª¢æŸ¥è…³æœ¬</button>
        </div>

        <div class="tool-section">
            <h3>ğŸ“Š é æœŸæª¢æ¸¬çµæœ</h3>
            <div id="expectedResults" style="display: none;">
                <div class="stats">
                    <div class="stat-item">
                        <div class="stat-number">0</div>
                        <div>ID è¡çª</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">3+</div>
                        <div>å‰ç¶´è§£æ±ºè¡çª</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">âœ…</div>
                        <div>éš”é›¢æˆåŠŸ</div>
                    </div>
                </div>
                
                <h4>é æœŸæœƒå‡ºç¾çš„å‰ç¶´éš”é›¢ ID é…å°ï¼š</h4>
                <div class="safe-item">âœ… dashboard-userTabs vs userTabs</div>
                <div class="safe-item">âœ… dashboard-searchInput vs searchInput</div>
                <div class="safe-item">âœ… dashboard-searchBtn vs searchBtn</div>
                <div class="safe-item">âœ… dashboard-all-users-tab vs all-users-tab</div>
                
                <h4>é æœŸæœƒå­˜åœ¨çš„ JavaScript å‡½æ•¸ï¼š</h4>
                <div class="safe-item">âœ… toggleAccountStatus (Admin å…¨åŸŸå‡½æ•¸)</div>
                <div class="safe-item">âœ… dashboard-toggleAccountStatus (Dashboard IIFE å‡½æ•¸)</div>
                <div class="safe-item">âœ… openAdminNotesModal (Admin å…¨åŸŸå‡½æ•¸)</div>
                <div class="safe-item">âœ… dashboard-openAdminNotesModal (Dashboard IIFE å‡½æ•¸)</div>
            </div>
        </div>

        <div class="tool-section">
            <h3>ğŸ¯ æ¸¬è©¦æ­¥é©Ÿæª¢æŸ¥æ¸…å–®</h3>
            <div style="background: white; padding: 15px; border-radius: 4px;">
                <h4>éšæ®µ 1: ç’°å¢ƒæº–å‚™</h4>
                <label><input type="checkbox"> 1. å•Ÿå‹• zuHause æ‡‰ç”¨ç¨‹å¼</label><br>
                <label><input type="checkbox"> 2. è¨ªå• Dashboard é é¢ (/Dashboard/Index)</label><br>
                <label><input type="checkbox"> 3. é»æ“Šã€Œå‰å°æœƒå“¡ç®¡ç†ã€æ¨™ç±¤</label><br>
                <label><input type="checkbox"> 4. ç¢ºèªæœƒå“¡ç®¡ç†ä»‹é¢æ­£å¸¸è¼‰å…¥</label><br>
                
                <h4>éšæ®µ 2: DOM ID è¡çªæª¢æŸ¥</h4>
                <label><input type="checkbox"> 5. é–‹å•Ÿç€è¦½å™¨é–‹ç™¼è€…å·¥å…· (F12)</label><br>
                <label><input type="checkbox"> 6. åˆ‡æ›åˆ° Console æ¨™ç±¤</label><br>
                <label><input type="checkbox"> 7. åŸ·è¡Œ DOM ID æª¢æŸ¥è…³æœ¬</label><br>
                <label><input type="checkbox"> 8. ç¢ºèª "ID è¡çª: 0"</label><br>
                <label><input type="checkbox"> 9. ç¢ºèªæœ‰ "å‰ç¶´è§£æ±ºè¡çª" é …ç›®</label><br>
                
                <h4>éšæ®µ 3: åŠŸèƒ½ç¨ç«‹æ€§æ¸¬è©¦</h4>
                <label><input type="checkbox"> 10. åŸ·è¡Œ Bootstrap Tab æª¢æŸ¥è…³æœ¬</label><br>
                <label><input type="checkbox"> 11. æ¸¬è©¦ Dashboard æœå°‹åŠŸèƒ½</label><br>
                <label><input type="checkbox"> 12. æ¸¬è©¦ Dashboard åˆ†é åˆ‡æ›</label><br>
                <label><input type="checkbox"> 13. è¨ªå•åŸå§‹ Admin é é¢ (/Admin/admin_usersList)</label><br>
                <label><input type="checkbox"> 14. ç¢ºèª Admin é é¢åŠŸèƒ½æ­£å¸¸</label><br>
                
                <h4>éšæ®µ 4: é›™ç³»çµ±ä¸¦è¡Œæ¸¬è©¦</h4>
                <label><input type="checkbox"> 15. åœ¨å…©å€‹ç€è¦½å™¨åˆ†é ä¸­åŒæ™‚é–‹å•Ÿå…©å¥—ç³»çµ±</label><br>
                <label><input type="checkbox"> 16. åˆ†åˆ¥æ¸¬è©¦æœå°‹åŠŸèƒ½ç„¡å¹²æ“¾</label><br>
                <label><input type="checkbox"> 17. åˆ†åˆ¥æ¸¬è©¦åˆ†é åˆ‡æ›ç„¡å¹²æ“¾</label><br>
                <label><input type="checkbox"> 18. ç¢ºèª CSS æ¨£å¼ç„¡æ±¡æŸ“</label><br>
            </div>
        </div>
    </div>

    <script>
        function copyScript() {
            const textarea = document.getElementById('checkScript');
            textarea.select();
            document.execCommand('copy');
            alert('âœ… è…³æœ¬å·²è¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼è«‹åœ¨ç€è¦½å™¨ Console ä¸­è²¼ä¸ŠåŸ·è¡Œã€‚');
        }
        
        function copyTabScript() {
            const textarea = document.getElementById('tabScript');
            textarea.select();
            document.execCommand('copy');
            alert('âœ… Tab æª¢æŸ¥è…³æœ¬å·²è¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼');
        }
        
        function showExpectedResults() {
            const results = document.getElementById('expectedResults');
            results.style.display = results.style.display === 'none' ? 'block' : 'none';
        }
    </script>
</body>
</html>